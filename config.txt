# CUAV Field Tests Data Reader Configuration
# Simple text file with key=value pairs
# Lines starting with # are comments and will be ignored
# Empty lines are also ignored

# Directory Paths
# All paths can be absolute (e.g., D:\path\to\dir) or relative to the current working directory
# Absolute paths are recommended for portability across different execution contexts
# 
# Support for multiple datasets: use comma-separated lists for multiple values
# Each position in the comma-separated lists corresponds to one dataset configuration
# Example:
#   processed_root=path1,path2,path3
#   raw_root=raw1,raw2,raw3
#   log_file=log1.txt,log2.txt,log3.txt
#   database_path=db1.db,db2.db,db3.db
# This creates 3 dataset configurations: (path1,raw1,log1.txt,db1.db), (path2,raw2,log2.txt,db2.db), etc.
# 
# Single values (no commas) work as before for backward compatibility
processed_root=D:\Raymetrics_Tests\BOMA2025\20250923\Wind
raw_root=D:\Raymetrics_Tests\BOMA2025\20250923\Spectra\User\20250923\Wind
log_file=D:\Raymetrics_Tests\BOMA2025\20250923\output11.txt
output_dir=timestamp_debug_output
database_path=data/output11.db
# Processing Parameters
timestamp_tolerance=0.0001
timestamp_precision=6

# File Patterns
processed_suffix=_Peak.txt
raw_file_pattern=spectra_*.txt

# Raw Data Reading Parameters
raw_spectra_skip_rows=13
raw_spectra_dtype=float32

# Processed Data Reading Parameters
processed_timestamp_column=2
processed_data_start_column=3

# Log File Parameters
# Note: These refer to column indices in the log file
# After loading, the file is transposed so columns become rows
log_azimuth_column=0
log_elevation_column=1
log_timestamp_column=2

# Test Parameters
max_test_entries=10

# Visualization Parameters
# Range step: spacing between range bins in meters (e.g., 48.0 m)
range_step=48.0

# Starting range index: index of the range bin that corresponds to 0 meters
# Previous bins have negative distances, later bins have positive distances
# Formula: distance = (index - starting_range_index) * range_step
# Example: if starting_range_index=28 and range_step=48, then:
#   - Index 0: (0-28)*48 = -1344 m
#   - Index 28: (28-28)*48 = 0 m (reference point)
#   - Index 29: (29-28)*48 = 48 m
#   - Index 30: (30-28)*48 = 96 m
starting_range_index=28

# Requested range indices: comma-separated list of range bin indices relative to starting_range_index
# These are offsets from the starting_range_index (which is at 0 m)
# The actual range bin indices are computed as: starting_range_index + requested_range_index
# Supports:
#   - Single values: "1, 2, 3"
#   - Ranges: "1-50" (expands to 1, 2, 3, ..., 50)
#   - Mixed: "1, 4-10, 8" (expands to 1, 4, 5, 6, 7, 8, 9, 10, 8)
# Example: if starting_range_index=28 and requested_range_indices=1-43, then:
#   - Actual indices: 28+1=29, 28+2=30, ..., 28+43=71
#   - Actual distances: 48m, 96m, ..., 2064m (displayed in plot titles)
# The actual distances will be computed and displayed in plot titles
requested_range_indices=1-80
visualization_output_dir=visualization_output

# Main Script Execution Mode
# Options: 'test', 'heatmaps', 'profiles', 'differences', 'fwhm', or comma-separated combinations
# 'test': Run the complete test suite (tests/total_test.py) - cannot be combined with others
# 'heatmaps': Generate heatmaps using parameters below
# 'profiles': Generate single-profile visualizations
# 'differences': Compute and visualize SNR/wind differences between sequential range pairs
# 'fwhm': Compute and visualize FWHM of dominant frequency peaks
# Examples: "heatmaps", "profiles", "heatmaps,profiles", "differences,fwhm"
run_mode=heatmaps,profiles,differences,fwhm

# Heatmap Parameters (only used when run_mode='heatmaps')
# Comma-separated list of parameters: 'wind', 'snr', 'peak', 'spectrum'
# Examples: "wind,snr" or "wind,peak,spectrum"
heatmap_parameters=wind,snr

# Heatmap visualization settings
heatmap_colormap=viridis
heatmap_format=png

# Single-Profile Mode Parameters (only used when run_mode='profiles')
# FFT size for frequency computation (e.g., 128 for 64 spectrum values)
profile_fft_size=128
# Sampling rate in Hz
profile_sampling_rate=400000000
# Allowable frequency interval for searching maximum SNR (Hz): "min_freq,max_freq"
profile_frequency_interval=20000000,120000000
# Frequency shift for Doppler lidar equation (Hz)
profile_frequency_shift=80000000
# Laser wavelength for Doppler lidar equation (meters)
profile_laser_wavelength=1.55e-6

# Debug Mode
# Set to 'true' or 'false' (case-insensitive)
# When true: prints verbose debug information including detailed database content, matching details, etc.
# When false: prints only essential information (normal mode)
debug_mode=false
